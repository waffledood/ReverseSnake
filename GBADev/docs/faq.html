<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>HAM Documentation</title>
<link href="hamdoc.css" rel="stylesheet" type="text/css">
</head><body>



<table width=100% border=0 cellpadding=0 cellspacing=0
  bgcolor=#FFFFFF><tr><td width=154 align=left><a
  href="http://www.ngine.de"><img src="head-left.jpg"
  border="0"></a></td><td background="head-mid.jpg"
  border="0">&nbsp;</td><td width=177 align=right><a
  href="http://www.ngine.de"><img src="head-right.jpg"
  border="0"></a><img src="head-rightest.jpg"
  border="0"></td></tr></table> <table width=100% align=center><td
  align="center" height="20" width="90%" bgcolor=#eeeeee><font
  class="topnav"><B>
<A href="http://www.ngine.de/index.php" class="topnav">Home</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Downloads" class="topnav">Downloads</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Your_Account" class="topnav">Your
  Account</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Submit_News" class="topnav">Submit News</a>
</B></font>
</td>
</tr>
</table>

  <table width=100% border=0>
  <tr>
  <td align=left>
  <font face=verdana size=+0>
  <a href="index.html">Documentation Homepage</a><br>
  <a href="modules.html">HAMLib reference</a><br>
  <a href="http://www.ngine.de/index.html">Back to HAM Homepage</a><br>
  </td>
  <td align=right>
  <a href=index.html><img border=0 align=right src=hamlogo.jpg></a>
  </td>
  </tr>
  </table>  
  <br clear=all><hr>
<!-- Generated by Doxygen 1.2.18 -->
<h1><a name="faq">HAM FAQ</a>
</h1><dl compact><dt><b>General FAQ</b></dt><dd>
<ul>
<li><b>Q</b>: Is there a good tutorial for HAM other than the one in this doc?<li>A: Yes. Check <a href="http://www.aaronrogers.com/ham/">http://www.aaronrogers.com/ham/</a></ul>
</dl><dl compact><dt><b>Installation Problems</b></dt><dd>
<ul>
<li><b>Q</b>: Help! The Installer gives me runtime errors!!<li>A: You might have a really outdated Windows setup. You need to update your Windows Scripting Host. The download is found at: <a href="http://www.microsoft.com/msdownload/vbscript/scripting.asp">http://www.microsoft.com/msdownload/vbscript/scripting.asp</a> . Install that , reboot, reinstall HAM, that should work.</ul>
</dl><ul>
<li><b>Q</b>: How do I install the Linux version?<li>A: Just unpack it to any directory of your choice and run the "runme" shell script. You will then be walked through the installation process using a simple multiple choice configuration utility. Notice HAM might need to download about 50 MB of source code from a GNU site near you.</ul>
<ul>
<li><b>Q</b>: How can I upgrade my compiler / debugger / etc (Windows or Linux)<li>A: In Linux, just rerun the "runme" script, and follow the instructions. On Windows, you will need a working Cygwin setup on your system, and unpack the linux compiler builder distribution into a directory of your choice reachable from the Cygwin system. Then run the "runme" and follow the instructions. You might need to make sure that during the Cygwin installation, a few additional utilities such as "wget" and "perl" need to be installed.</ul>
<dl compact><dt><b>Compilation Problems</b></dt><dd>
<ul>
<li><b>Q</b>: HAM is VERY slow. My program takes ages to compile!<li>A: This might be due to a known Cygwin bug. Cygwin has a slight bug that makes it delay for quite a while if a mounted volume is unreadable. To avoid this delay, you have to put media in each drive, disconnect drives you aren't using, or change the Cygwin config files. (I don't know deep cygwin wizardry so I can't help you there.)</ul>
</dl><ul>
<li><b>Q</b>: Since v2.30, nothing compiles! I get "Badly punctuated parameter list" errors!<li>A: This is related to a problem with a Cygwin setup on your system. Either reinstall Cygwin with the DOS style path setups, or, if you already deinstalled Cygwin, search your registry and delete all Cygwin keys and delete them. It also helps to just get the Setup.exe from <a href="http://sources.redhat.com/cygwin">http://sources.redhat.com/cygwin</a>, and in the installer, select DOS as text file handling mode. You do not need to change anything else, so nothing will be overwritten when you finish the installer.</ul>
<ul>
<li><b>Q</b>: Since v2.40, I get "undefined reference to main()" errors!<li>A: Your old projects need a little change that I had to put in for enabling C++ support in HAM. Just change your AgbMain function name to main and you should be good to go.</ul>
<ul>
<li><b>Q</b>: My program worked, but now I added something and it does not anymore!<li>A: Make sure you have NOT set the MULTIBOOT define at the top of your source code. Multiboot programs can only be 256kb, usually even a bit less.</ul>
<ul>
<li><b>Q</b>: I seem not to be able to compile anything. All the compiler says is "Error 1" when attempting to compile.<li>A: The problem is likely an incompatible version of cygwin1.dll on your system. Do a system wide search for the file "cygwin1.dll" and rename all of them as you please into some other name (all except the one in the HAM installation folder of course). Note this could impact the functionality of other programs, so do not delete any files!</ul>
<ul>
<li><b>Q</b>: Krawall specific: if I run "make" i get an error that samples.o cannot be made.<li>A: The first time you compile, this can happen. Run a "make clean" and it will work afterwards.</ul>
<dl compact><dt><b>C++ Problems</b></dt><dd>
<ul>
<li><b>Q</b>: How do I compile C++ files?<li>A: Just name them filename.cpp instead of filename.c ... You should even be able to mix C and C++ in the same project.</ul>
</dl><ul>
<li><b>Q</b>: In 2.40 C++ Support should work right? I cannot use XYZ from the C++stdlib!<li>A: Yep, C++ is supported, and there is a crude C++lib also, but most of it is useless on the GBA. Using the C++ library functions such as streams should be avoided... the GBA is a tiny platform remember...</ul>
<dl compact><dt><b>Sound Problems</b></dt><dd>
<ul>
<li><b>Q</b>: The sound from the afm modplayer stutters / crackles / etc<li>A: Make sure you call afm_Sync at the start of your VBL interrupt handler. If this does not help, your program is too busy. I have not written the mod player, so I will not improve it. Also consider using HAMs Direct Sound support, or even better, use Krawall. See the krawall sample source code for information on how to get it running for your program.</ul>
</dl><ul>
<li><b>Q</b>: In my program (including modplayer sound) I changed some stuff that REALLY should not break anything, but now it crashes!!<li>A: This has been reported a number of times, and is due to afm. Disable the modplayer and retry. If you can, I urge anyone to switch to Krawall, which is much more stable.</ul>
<ul>
<li><b>Q</b>: How do I compile WAV files to go into my GBA ROM ?<li>A: Very easy. Just add them to the .o files in your makefile, and make sure you have them in the same directory as the makefile. Example, to add cool.wav, just add "cool.o " to the object list in your makefile, an d, in addition, declare an extern global in your source code, that would look like "extern const WaveData _binary_cool_raw_start;" . Thats all, you can now use this WaveData structure to access the sound data and feed HAMlib with it.</ul>
<dl compact><dt><b>BG functionality problems</b></dt><dd>
<ul>
<li><b>Q</b>: I convert the graphics and load them onto my BG, but they appear "sliced" (e.g. only every second tile is displayed)<li>A: You are displaying a map on a rotating/scaling BG that has not been converted as a rotation map. You have to convert your graphics in gfx2gba using the "-rs" switch.</ul>
</dl><ul>
<li><b>Q</b>: I want all black pixels in my BG to be transparent, but it does not work. Why? <li>A: You will need to set the color number 0 (in your paint applications palette) to the one you want to be transparent. This is true for Sprites and BG in tiled mode.</ul>
<ul>
<li><b>Q</b>: I modified the picture in a sample source code, but I don't see the changes on the GBA / the graphics are messed up? <li>A: You will need to learn how to use gfx2gba. The documentation for this tool is here</ul>
<dl compact><dt><b>Bitmap mode problems</b></dt><dd>
<ul>
<li><b>Q</b>: I set my BGMode to number 4 or 5, and used <a class="el" href="group__hamlib__bitmap.html#a2">ham_PutLine()</a> or <a class="el" href="group__hamlib__bitmap.html#a1">ham_PutPixel()</a> , but nothing shows up. Whats wrong? It works fine in Mode 3.<li>A: Mode 4 and 5 have a so called double buffer. HAM will always plot to the buffer that is currently <b>not</b> displayed. You can flip the back buffer to the front by calling the <a class="el" href="group__hamlib__bitmap.html#a4">ham_FlipBGBuffer()</a> .</ul>
</dl><dl compact><dt><b>Sprite problems</b></dt><dd>
<ul>
<li><b>Q</b>: After allocating/deallocating sprites a few times, my code crashes. Whats wrong?<li>A: This might be related to a memory leak in the OBJ system in HAM 2.4 . It should be gone in HAM 2.5</ul>
</dl><ul>
<li><b>Q</b>: I am using ham_CreateObj and/or ham_DeleteObj every frame, and my program crashes at random locations. Why?<li>A: The Problem is most likely that your VBL interrupt routine disrupts one of the calls to the functions above, and before they get done, there is yet another scheduled interrupt. Because of this, you may run into a stack overflow/crash. To get around this problem, use M_INTMST_DISABLE before your CreateObj call, and M_INTMST_ENABLE after it. This will protect the routine from being interrupted.</ul>
<dl compact><dt><b>Memory Allocation problems</b></dt><dd>
<ul>
<li><b>Q</b>: I need a variable in a specific memory area, like IWRAM. How can I do this?<li>A: just make it a global, like this: u16 foo MEM_IN_IWRAM; You can also force EWRAM.</ul>
</dl><dl compact><dt><b>Debugger problems</b></dt><dd>
<ul>
<li><b>Q</b>: How can I use the GDB Debugger, how do I use it?<li>A: Using the debugger is easy as toast! Just compile using "make gdb". For instructions on how to use the debugger, see <a href="http://sources.redhat.com/insight/">http://sources.redhat.com/insight/</a> . You will be presented the debugger and your VBA is ready to go. Press the "Continue" button or the "c" key on the keyboard to start the program. To return into the debugger, highlight the VBA window and press F11. To set breakpoints, click the little "-" signs next to the source.</ul>
</dl><ul>
<li><b>Q</b>: I would like to profile my code, how can I do this?<li>A: HAM provides a simple code profiler, that is very easy to use in conjunction with VBA. Just put TOOL_USE_PROFILER somewhere at the top of the source file you want to debug, and then put TOOL_PROFILER_START and TOOL_PROFILER_END around the code block you want to measure. You will then get a report about the time elapsed in the console of VBA. For more information, look up the information on TOOL_USE_PROFILER in include/mygba.h .</ul>
<ul>
<li><b>Q</b>: It seems like when I debug step by step in my source code, the order of the functions called is not correct. Whats wrong here?<li>A: This might be related to the compiler optimizing your code too much. You can change the optimization level down to -O1 , which should work well for the Debugger. The switch to change can be found in the HAM_CFLAGS variable in system/master.mak</ul>
<dl compact><dt><b>VBA Emulator problems</b></dt><dd>
<ul>
<li><b>Q</b>: I cannot quit the emulator when running "make vba"<li>A: Press ESC to quit the emulator</ul>
</dl><ul>
<li><b>Q</b>: My program works fine on the emulator, but performance is worse on real hardware. What could be the cause?<li>A: As of October 2002, VBA is known to handle emulation of DMA calls too fast. Real DMA is a bit slower on hardware, so you need to be careful when only testing DMA heavy code on the emulator.</ul>
  <br clear=all><hr>
  <font face=verdana size=+0>
  <a href="index.html">Documentation Homepage</a> | 
  <a href="modules.html">HAMLib reference</a> | 
  <a href="http://www.ngine.de/index.html">Back to HAM Homepage</a><br>
  <div align=right>
  <font size=-1>documentation created with <a href="http://www.doxygen.org">Doxygen</a>
  </body>
</html>
