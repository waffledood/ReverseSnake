<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>HAM Documentation</title>
<link href="hamdoc.css" rel="stylesheet" type="text/css">
</head><body>



<table width=100% border=0 cellpadding=0 cellspacing=0
  bgcolor=#FFFFFF><tr><td width=154 align=left><a
  href="http://www.ngine.de"><img src="head-left.jpg"
  border="0"></a></td><td background="head-mid.jpg"
  border="0">&nbsp;</td><td width=177 align=right><a
  href="http://www.ngine.de"><img src="head-right.jpg"
  border="0"></a><img src="head-rightest.jpg"
  border="0"></td></tr></table> <table width=100% align=center><td
  align="center" height="20" width="90%" bgcolor=#eeeeee><font
  class="topnav"><B>
<A href="http://www.ngine.de/index.php" class="topnav">Home</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Downloads" class="topnav">Downloads</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Your_Account" class="topnav">Your
  Account</a>
&nbsp;&middot;&nbsp;
<A href="http://www.ngine.de/modules.php?name=Submit_News" class="topnav">Submit News</a>
</B></font>
</td>
</tr>
</table>

  <table width=100% border=0>
  <tr>
  <td align=left>
  <font face=verdana size=+0>
  <a href="index.html">Documentation Homepage</a><br>
  <a href="modules.html">HAMLib reference</a><br>
  <a href="http://www.ngine.de/index.html">Back to HAM Homepage</a><br>
  </td>
  <td align=right>
  <a href=index.html><img border=0 align=right src=hamlogo.jpg></a>
  </td>
  </tr>
  </table>  
  <br clear=all><hr>
<!-- Generated by Doxygen 1.2.18 -->
<h1>Direct Sound Control Functions</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>sample_info *&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a0">ham_InitSample</a> (u8 *data, u32 length, u16 bitrate)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize a Waveform Sample for playback.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a1">ham_ChangeSampleBitrate</a> (sample_info *sample, u16 bitrate)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Changes the Playback Rate (playing speed) of a sample.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a2">ham_DeInitSample</a> (sample_info *sample)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Removes an initialized sample from memory.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a3">ham_PlaySample</a> (sample_info *sample)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Starts playback of an initialized Sample.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a4">ham_KillSample</a> (sample_info *sample)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Force End of Output for a Sample.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer</a> (u16 bitrate)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize the HAM Direct sound mixer.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a6">ham_DeInitMixer</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Deinitialize the HAM Direct sound mixer.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a7">ham_SyncMixer</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Synchronize the Mixer with the GBA hardware.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__hamlib__sound.html#a8">ham_UpdateMixer</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Update and mix all channels for next frame.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
In this section, you will find HAMs internal Direct Sound functions. <b>IMPORTANT</b>: These functions are <em>deprecated</em> and are only provided in future version for backward compatiblity. It is suggested that you use Krawall (see the <a href="glossary.html#glossary">Glossary</a> ) for all Direct Sound functionality. Krawall (freeware version) is included in all HAM versions &gt;2.52 . For details on how to register Krawall (to get XM playback support and other advanced features, see <a href="http://mind.riot.org">http://mind.riot.org</a> ) <hr><h2>Function Documentation</h2>
<a name="a1" doxytag="sound.c::ham_ChangeSampleBitrate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_ChangeSampleBitrate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sample_info *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sample</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>bitrate</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Changes the Playback Rate (playing speed) of a sample.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sample</em>&nbsp;</td><td>
a pointer to a sample_info structure previously obtained by <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> </td></tr>
<tr><td valign=top><em>bitrate</em>&nbsp;</td><td>
the desired playback bitrate of the sample in Hz (bytes/sec) </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>This function will change the current bítrate of the sample in question to the new value given (in Hz)
<p>
See also: <a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer()</a> <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a>     </td>
  </tr>
</table>
<a name="a6" doxytag="sound.text.iwram.c::ham_DeInitMixer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_DeInitMixer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deinitialize the HAM Direct sound mixer.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>Deinitializes HAM Direct Sound functionality. This is the function you should call after you are done with using the HAM direct sound audio functions.
<p>
See also: <a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer()</a>     </td>
  </tr>
</table>
<a name="a2" doxytag="sound.c::ham_DeInitSample"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_DeInitSample </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sample_info *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>sample</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes an initialized sample from memory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sample</em>&nbsp;</td><td>
a pointer to a sample_info structure previously obtained by <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>This function deinitalizes the sample supplied. This will not delete the samples data itslef, but all the configuration data that was previously created by <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a>
<p>
See also: <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a>     </td>
  </tr>
</table>
<a name="a5" doxytag="sound.text.iwram.c::ham_InitMixer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_InitMixer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>bitrate</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the HAM Direct sound mixer.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>bitrate</em>&nbsp;</td><td>
The bitrate of the mixer in Hz (see below) </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>Initializes the HAM Direct Sound mixer. To ensure click less playback, set your Mixer to a frequency outlined below. Other frequencies might play back fine, but these are safer to use, the ones above fit the timing of the GBA best. After you Initialized your Mixer, you must call <a class="el" href="group__hamlib__sound.html#a7">ham_SyncMixer()</a> in your VBL handler, at the very top, and also <a class="el" href="group__hamlib__sound.html#a8">ham_UpdateMixer()</a> once per frame, where does not matter. See the example sources included with HAM for more information.
<p>
You are advised to use one of the following bitrates for your mixer (You can play any bitrate samples up to the mixer frequency itself, but using a higher mixer bitrate will require more CPU power): <ul>
<li>5733 Hz <li>6689 Hz <li>10512 Hz <li>11467 Hz<li>13379 Hz <li>18157 Hz <li>20068 Hz <li>21024 Hz<li>26757 Hz <li>31536 Hz <li>36314 Hz <li>40136 Hz<li>42048 Hz <li>54471 Hz</ul>
See also: <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> <a class="el" href="group__hamlib__sound.html#a3">ham_PlaySample()</a> <a class="el" href="group__hamlib__sound.html#a6">ham_DeInitMixer()</a>     </td>
  </tr>
</table>
<a name="a0" doxytag="sound.c::ham_InitSample"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> sample_info* ham_InitSample </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>length</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>bitrate</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a Waveform Sample for playback.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>data</em>&nbsp;</td><td>
a pointer to the data of the sample you want to initialize </td></tr>
<tr><td valign=top><em>length</em>&nbsp;</td><td>
the length of the sample in bytes </td></tr>
<tr><td valign=top><em>bitrate</em>&nbsp;</td><td>
the desired playback bitrate of the sample in Hz (bytes/sec) </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>This function will initialize an 8bit Waveform for playback within the HAM Direct Sound system. It will return a pointer to a so-called sample_info structure. This pointer can later be used to start playbeck of this sample.
<p>
See also: <a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer()</a> <a class="el" href="group__hamlib__sound.html#a3">ham_PlaySample()</a> <a class="el" href="group__hamlib__sound.html#a2">ham_DeInitSample()</a>     </td>
  </tr>
</table>
<a name="a4" doxytag="sound.c::ham_KillSample"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_KillSample </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sample_info *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>sample</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Force End of Output for a Sample.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sample</em>&nbsp;</td><td>
a pointer to a sample_info structure previously obtained by <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>This function will force the playback of the supplied sample to end immediately. <b>Caution</b>: this function is not 100% tested.
<p>
See also: <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> <a class="el" href="group__hamlib__sound.html#a2">ham_DeInitSample()</a>     </td>
  </tr>
</table>
<a name="a3" doxytag="sound.c::ham_PlaySample"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_PlaySample </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sample_info *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>sample</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts playback of an initialized Sample.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sample</em>&nbsp;</td><td>
a pointer to a sample_info structure previously obtained by <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>This function starts the Playback of the sample specified. Note that you can play more than one sample simultaneously, so you can start playback of a sample while another one is still playing.
<p>
See also: <a class="el" href="group__hamlib__sound.html#a0">ham_InitSample()</a> <a class="el" href="group__hamlib__sound.html#a2">ham_DeInitSample()</a>     </td>
  </tr>
</table>
<a name="a7" doxytag="sound.text.iwram.c::ham_SyncMixer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_SyncMixer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Synchronize the Mixer with the GBA hardware.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>After you initialized your Mixer, you must call this function at the start of each VBL. This function transmits one frame worth of sound data from the mixer to the GBA sound circuit. You can set up a VBL interrupt handler using <a class="el" href="group__hamlib__int.html#a0">ham_StartIntHandler()</a> . The call to this function should be the first thing you do in the VBL handler function. See the dsound1 example source code for more information.
<p>
See also: <a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer()</a>     </td>
  </tr>
</table>
<a name="a8" doxytag="sound.text.iwram.c::ham_UpdateMixer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ham_UpdateMixer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update and mix all channels for next frame.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
this function is deprecated in favour of Krawall audio. See <a href="krawall-notes.html#krawall-notes">Krawall Notes</a> for more information.</dl>Use this function to mix new sound data once per frame, which will get played on the next call to <a class="el" href="group__hamlib__sound.html#a7">ham_SyncMixer()</a> . You must invoke this function once per frame, where does not really matter, as long as the function will be done before the next call to <a class="el" href="group__hamlib__sound.html#a7">ham_SyncMixer()</a> .
<p>
See also: <a class="el" href="group__hamlib__sound.html#a5">ham_InitMixer()</a> <a class="el" href="group__hamlib__sound.html#a7">ham_SyncMixer()</a>     </td>
  </tr>
</table>
  <br clear=all><hr>
  <font face=verdana size=+0>
  <a href="index.html">Documentation Homepage</a> | 
  <a href="modules.html">HAMLib reference</a> | 
  <a href="http://www.ngine.de/index.html">Back to HAM Homepage</a><br>
  <div align=right>
  <font size=-1>documentation created with <a href="http://www.doxygen.org">Doxygen</a>
  </body>
</html>
